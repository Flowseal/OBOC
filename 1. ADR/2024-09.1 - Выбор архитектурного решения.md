# ADR \- Выбор архитектурного решения

**Участники:**

- Антышев Евгений  
- Веселов Максим  
- Вещев Артем

**Дата:** 2024-09-21

**Статус:** Принято

## Контекст

При разработке хостинга перевода книг мы стоим перед выбором архитектурной формы системы.

**Срок выполнения:**

- 3 месяца

**Бюджет:**

- 100$

**Состав:**

- 2 Back-end разработчика (Go | php)  
- 1 Front-end разработчик (React)

**Опыт:**

- Опыт разработки клиент-серверных приложений (3 года)

**Требования к проекту:**

- масштабируемость  
- скорость разработки  
- возможность быстро вносить изменения

## Рассматриваемые варианты

- **Клиент-сервер:** пользователь с помощью клиент-приложения получает данные с сервера  
    
  Плюсы:  
    
  - Много документации по архитектуре  
  - Данные хранятся в одном месте


  Минусы:


  - Стоимость хостинга  
  - Нужно настраивать развертывание


- **P2P:** каждый пользователь является и клиентом и сервером  
    
  Плюсы:  
    
  - Не надо тратиться на хостинг


  Нюанс:


  - Распределенное хранение данных


- **Serverless:** архитектура, при которой разработчикам не требуется управлять серверами, а код выполняется в ответ на события.  
    
  Плюсы:  
    
  - Не нужно настраивать развертывание  
  - Автоматическое масштабирование


  Минусы:


  - Дорого  
  - Привязка к поставщику услуг


  Нюансы:


  - Лучше подходит для бизнес-процессов основанных на событиях

## Решение

- Клиент-сервер

## Обоснование

- **Эффективное и простое хранение общих данных на сервере:** данные не будут дублироваться у каждого клиента, а будут храниться в единственном экземпляре на сервере.  
- **Легкая дистрибутизация:** любой пользователь может получить доступ к ресурсу через сеть интернет  
- **Малый бюджет:** позволяет не вкладывать большое количество средств в развертывание  
- **Опыт:** все имеющиеся разработчики работали только с архитектурой клиент-сервер

## Последствия

- Нужно следить за доступом к серверу, чтобы предотвратить утечки данных  
- Нужно оборудование для развертывания серверной части  
- Необходимо самому следить за нагрузкой на сервер

## Риски

- При утери сервера \- потеряются все данные: для решения будем делать бэкапы на сторонних ресурсах  
- При отключении сервера \- сервис перестанет работать: будем делать несколько реплик сервера  
- Приложение может не выдержать пиковых нагрузок: будем разворачивать дополнительные реплики контейнера

## Затронутые области

- База данных  
- Back-end  
- Контейнеризация

## История
